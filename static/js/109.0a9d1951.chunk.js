"use strict";(self.webpackChunkcamper_reserve=self.webpackChunkcamper_reserve||[]).push([[109],{7022:function(e,a,n){n.d(a,{Z:function(){return s}});var i={"btn-reset":"Button_btn-reset__+jCs4","btn-loadmore":"Button_btn-loadmore__7DgkH","btn-submit":"Button_btn-submit__JDG5N","btn-search":"Button_btn-search__JJi36","box-details":"Button_box-details__9HIkd"},t=n(184),s=function(e){var a=e.tag,n=e.type,s=e.className,r=e.children,c=e.onClick;switch(a){case"li":return(0,t.jsx)("li",{className:i[s],children:r});case"button":return(0,t.jsx)("button",{type:n,className:i[s],onClick:c,children:r});default:return null}}},968:function(e,a,n){var i=n(9439),t=n(2791);a.Z=function(){var e=(0,t.useState)({width:window.innerWidth,height:window.innerHeight}),a=(0,i.Z)(e,2),n=a[0],s=a[1];return(0,t.useEffect)((function(){var e=function(){s({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}},8109:function(e,a,n){n.r(a),n.d(a,{default:function(){return X}});var i=n(7689),t=n(4942),s=n(1413),r=n(9439),c=n(2791),l=n(1175),o=n(1540),d=n(7462),p=n(188),_="LocationFilter_location-filter__hzQe4",u="LocationFilter_label__WYjbG",m="LocationFilter_dropdown__EiDj4",h=n(184),g=function(e){var a=e.onChange,n=e.selectedFilters,i=p.pr.find((function(e){return e.value.includes(n.location)}));return(0,h.jsx)("div",{className:_,children:(0,h.jsxs)("label",{className:u,children:["Location",(0,h.jsx)(o.ZP,{className:m,placeholder:"Kyiv, Ukraine",options:p.pr,value:i,onChange:function(e){e.length>0&&a({name:"location",value:e[0].value,key:e[0].key,checked:!0})},closeOnScroll:!0,closeOnSelect:!0,color:"var(--accent-color)"}),(0,h.jsx)(d.f,{id:"location"})]})})},v={"equipment-container":"EquipmentFilter_equipment-container__42rXx","field-set":"EquipmentFilter_field-set__Wxxus",collapsed:"EquipmentFilter_collapsed__+eJ4t","collapse-btn":"EquipmentFilter_collapse-btn__Nx-VL",title:"EquipmentFilter_title__mocBg","input-wrap":"EquipmentFilter_input-wrap__JK-AY","check-box":"EquipmentFilter_check-box__iWJ-J"},x=function(e){var a=e.onChange,n=e.selectedFilters,i=(0,c.useState)(!1),t=(0,r.Z)(i,2),s=t[0],l=t[1];return(0,h.jsxs)("div",{className:"".concat(v["equipment-container"]," ").concat(s?v.collapsed:""),children:[(0,h.jsxs)("h2",{className:v.title,children:[(0,h.jsx)("span",{children:"Vehicle equipment"}),(0,h.jsx)("button",{className:v["collapse-btn"],onClick:function(){l(!s)},children:(0,h.jsx)(d.f,{id:s?"arrow-down":"arrow-up"})})]}),(0,h.jsx)("fieldset",{className:"".concat(v["field-set"]," ").concat(s?v.hidden:""),children:p.qk.map((function(e){var i=e.key,t=e.value,s=e.text;return(0,h.jsxs)("div",{className:v["input-wrap"],children:[(0,h.jsx)("input",{type:"checkbox","data-equipment":!0,name:i,value:t,checked:n[i]===t,onChange:function(e){var n=e.target;return a(n)}}),(0,h.jsxs)("div",{className:v["check-box"],children:[(0,h.jsx)(d.f,{id:i})," ",s]})]},i)}))})]})},f="CarType_vehicle-filters__cDeFF",j="CarType_field-set__5CBtW",C="CarType_collapsed__-hg6V",b="CarType_collapse-btn__yj1PR",N="CarType_title__Xd1X2",w="CarType_input-wrap__aH60J",k="CarType_radio-btn__nJPVI",F=function(e){var a=e.onChange,n=e.selectedFilters,i=(0,c.useState)(!1),t=(0,r.Z)(i,2),s=t[0],l=t[1];return(0,h.jsxs)("div",{className:"".concat(f," ").concat(s?C:""),children:[(0,h.jsxs)("h2",{className:N,children:[(0,h.jsx)("span",{children:"Vehicle type"}),(0,h.jsx)("button",{className:b,onClick:function(){l(!s)},children:(0,h.jsx)(d.f,{id:s?"arrow-down":"arrow-up"})})]}),(0,h.jsx)("fieldset",{className:j,children:p.vK.map((function(e){var i=e.value,t=e.text;return(0,h.jsxs)("div",{className:w,children:[(0,h.jsx)("input",{type:"radio",name:"type",value:i,checked:n.form===i,onChange:function(e){var n=e.target;return a(n)}}),(0,h.jsxs)("div",{className:k,children:[(0,h.jsx)(d.f,{id:i})," ",t]})]},i)}))})]})},y=n(7022),P="Filters_filter-container__iqo3L",E="Filters_filters-wrapper__auWPa",Z="Filters_heading__H3QDZ",L="Filters_btns-wrapper__0Rk6U",q={location:"",transmission:"",airConditioner:"",form:"",bathroom:"",kitchen:"",TV:"",limit:p.VZ,page:1},J=function(){var e=(0,c.useState)(q),a=(0,r.Z)(e,2),n=a[0],i=a[1],o=(0,l.F)(),d=o.searchParams,p=o.setSearchParams;(0,c.useEffect)((function(){var e={};Object.keys(n).forEach((function(a){var i=d.get(a);e[a]=i||n[a]})),i(e)}),[d]);var _=function(e){var a="";if("location"===e.name)a="location";else if("automatic"===e.value)a="transmission";else{var n;a=null!==e&&void 0!==e&&null!==(n=e.dataset)&&void 0!==n&&n.equipment?e.name:"form"}!function(e,a,n){i((function(i){return(0,s.Z)((0,s.Z)({},i),{},(0,t.Z)({},e,n?a:""))}))}(a,e.value,e.checked)};return(0,h.jsxs)("div",{className:P,children:[(0,h.jsx)(g,{onChange:_,selectedFilters:n}),(0,h.jsxs)("div",{className:E,children:[(0,h.jsx)("h4",{className:Z,children:"Filters"}),(0,h.jsx)(x,{onChange:_,selectedFilters:n}),(0,h.jsx)(F,{onChange:_,selectedFilters:n})]}),(0,h.jsx)("div",{className:L,children:(0,h.jsx)(y.Z,{className:"btn-search",type:"button",tag:"button",onClick:function(){var e={};Object.entries(n).forEach((function(a){var n=(0,r.Z)(a,2),i=n[0],t=n[1];t&&(e[i]=t)})),e.page=1,p(e)},children:"Search"})})]})},S=n(6585),T=n(1087),V=n(4420),D=n(1400),B=n(968),H={"vehicle-item":"CarCard_vehicle-item__sE8AR","mt-position":"CarCard_mt-position__-NyiJ",img:"CarCard_img__nWgNH","content-wrapper":"CarCard_content-wrapper__KVObr",name:"CarCard_name__U-eUp","info-wrapper":"CarCard_info-wrapper__gUgYT","info-wrapper-top":"CarCard_info-wrapper-top__Uzb9+",rating:"CarCard_rating__dn-k9",location:"CarCard_location__EMINJ",wrapper:"CarCard_wrapper__F5+mh",price:"CarCard_price__73o2y","fav-btn":"CarCard_fav-btn__3cGae",description:"CarCard_description__batbb","details-list":"CarCard_details-list__c2hEn"},U=function(e){var a=e.car,n=a._id,t=a.name,s=a.price,c=a.location,l=a.description,o=a.details,p=a.rating,_=a.reviews,u=a.gallery,m=(0,V.v9)((function(e){return e.favorites})).favorites.some((function(e){return e._id===n})),g=(0,V.I0)(),v=(0,i.TH)(),x=(0,B.Z)().width;return(0,h.jsxs)("li",{"data-vehicle":n,className:H["vehicle-item"],children:[(0,h.jsx)("img",{className:H.img,src:u.length?u[0]:"not-found-img.jpg",alt:t}),(0,h.jsxs)("div",{className:H["content-wrapper"],children:[(0,h.jsxs)("div",{className:H["mt-position"],children:[(0,h.jsxs)("div",{className:H["info-wrapper-top"],children:[(0,h.jsx)("h3",{className:H.name,children:t}),(0,h.jsxs)("div",{className:H.wrapper,children:[(0,h.jsxs)("p",{className:H.price,children:["\u20ac",s]}),(0,h.jsx)("button",{className:H["fav-btn"],onClick:function(){g(m?(0,D.zm)(n):(0,D._p)(a))},children:(0,h.jsx)(d.f,{id:m?"heart-active":"heart"})})]})]}),(0,h.jsxs)("div",{className:H["info-wrapper"],children:[(0,h.jsxs)("p",{className:H.rating,children:[(0,h.jsx)(d.f,{id:"rating"}),(0,h.jsxs)(T.rU,{to:"cars/".concat(n,"/reviews"),state:{from:v},children:[(0,h.jsx)("span",{children:p}),(0,h.jsxs)("span",{className:H["reviews-number"],children:["(",_.length,1===_.length?" Review":" Reviews",")"]})]})]}),(0,h.jsxs)("p",{className:H.location,children:[(0,h.jsx)(d.f,{id:"location"}),(0,h.jsx)("span",{children:c})]})]}),(0,h.jsx)("p",{className:H.description,children:x<768?l.slice(0,90)+"...":x>=768&&x<1440?l.slice(0,200)+"...":l.slice(0,55)+"..."})]}),(0,h.jsx)("ul",{className:H["details-list"],children:Object.entries(o).map((function(e,a){var n=(0,r.Z)(e,2),i=n[0],t=n[1];return x<768&&a>=6||x>=1440&&a>=8?null:t&&"bathroom"!==i?(0,h.jsxs)(y.Z,{tag:"li",className:"box-details",children:[(0,h.jsx)(d.f,{id:i}),(0,h.jsxs)("p",{children:[(0,h.jsx)("span",{children:t}),(0,h.jsxs)("span",{children:[" ",i]})]})]},"vehicle-card-details-".concat(i)):null}))}),(0,h.jsx)(y.Z,{className:"btn-loadmore",type:"button",tag:"button",children:(0,h.jsx)(T.rU,{to:"cars/".concat(n,"/features"),state:{from:v},children:"Show More"})})]})]},"vehicle-card-".concat(n))},W=n(6048),O=n.n(W),z={"pagination-container":"Pagination_pagination-container__+1VfD",pagination:"Pagination_pagination__qV0XY","page-active":"Pagination_page-active__T6MD+","page-item":"Pagination_page-item__cX-z+","page-disabled":"Pagination_page-disabled__0xMS8",disabled:"Pagination_disabled__B6KIF","page-link":"Pagination_page-link__HWTeo","next-page-item":"Pagination_next-page-item__wyGi6","previous-page-item":"Pagination_previous-page-item__uA9ID"},I=function(e){var a=e.total,n=(0,l.F)(),i=n.searchParams,t=n.setSearchParams;return(0,h.jsx)("div",{className:z["pagination-container"],children:(0,h.jsx)(O(),{forcePage:i.get("page")?i.get("page")-1:0,previousLabel:"<",nextLabel:">",pageClassName:z["page-item"],pageLinkClassName:z["page-link"],previousClassName:z["previous-page-item"],previousLinkClassName:z["previous-page-link"],nextClassName:z["next-page-item"],nextLinkClassName:z["next-page-link"],disabledClassName:z["page-disabled"],disabledLinkClassName:z["page-disabled"],breakLabel:"...",breakClassName:z["page-item"],breakLinkClassName:z["page-link"],pageCount:Math.ceil(a/p.VZ),pageRangeDisplayed:5,onPageChange:function(e){i.set("page",e.selected+1),t(i)},containerClassName:z.pagination,activeClassName:z["page-active"]})})},R="CarsList_cars-list__bgFdm",K=function(){var e=(0,l.F)().searchParams,a=Object.fromEntries(e.entries()),n=(0,S.JB)(a),i=n.data,t=n.error,s=n.isFetching,r=n.isError,c=n.isSuccess;if(s)return(0,h.jsx)("p",{children:"Loading"});if(c){var o,d=(null===i||void 0===i?void 0:i.cars.length)<(null===i||void 0===i?void 0:i.total);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("ul",{className:R,children:[null!==i&&void 0!==i&&i.cars.length?null===i||void 0===i||null===(o=i.cars)||void 0===o?void 0:o.map((function(e){return(0,h.jsx)(U,{car:e},e._id)})):(0,h.jsx)("p",{children:"No matches found"}),d?(0,h.jsx)(I,{total:null===i||void 0===i?void 0:i.total}):null]})})}return r?(0,h.jsx)("p",{children:t.error}):void 0},M={"catalog-container":"Catalog_catalog-container__oDUNN"},X=function(){return(0,h.jsx)("section",{className:M.section,children:(0,h.jsxs)("div",{className:M["catalog-container"],children:[(0,h.jsx)(J,{}),(0,h.jsx)(K,{}),(0,h.jsx)(i.j3,{})]})})}}}]);
//# sourceMappingURL=109.0a9d1951.chunk.js.map